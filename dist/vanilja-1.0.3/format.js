window.storyFormat({"author":"Victor Baquero Wihlborg","description":"A minimal story format for authors more experienced with HTML, CSS, and JavaScript.","image":"icon.svg","name":"vanilja","proofing":false,"url":"https://github.com/bagera/vanilja/","version":"1.0.3","source":"<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta charset=\"utf-8\" />\n    <title>{{STORY_NAME}}</title>\n    <style>\n      html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;box-sizing:border-box}h1{font-size:2em;margin:.67em 0}button,dl dl,dl ol,dl ul,input,ol dl,ol ol,ol ul,select,ul dl,ul ol,ul ul{margin:0}hr{box-sizing:content-box;color:inherit;height:0;overflow:visible}details,main{display:block}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}audio,canvas,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}table{border-color:inherit;text-indent:0}button{overflow:visible;text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}fieldset{padding:.35em .75em .625em}input{overflow:visible}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;white-space:normal}progress{display:inline-block;vertical-align:baseline}select{text-transform:none}textarea{margin:0;overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:ButtonText dotted 1px}:-moz-ui-invalid{box-shadow:none}dialog{background-color:#fff;border:solid;color:#000;display:block;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;left:0;margin:auto;padding:1em;position:absolute;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}[hidden],dialog:not([open]),template{display:none}summary{display:list-item}*,:after,:before{box-sizing:inherit}tw-passage,tw-story{display:block}tw-storydata{display:none}\n    </style>\n  </head>\n\n  <body>\n    <main>\n      <tw-story tags></tw-story>\n      {{STORY_DATA}}\n    </main>\n    <script>\n      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar root=require(\"./_root\"),Symbol=root.Symbol;module.exports=Symbol;\n\n},{\"./_root\":47}],2:[function(require,module,exports){\nfunction apply(l,e,a){switch(a.length){case 0:return l.call(e);case 1:return l.call(e,a[0]);case 2:return l.call(e,a[0],a[1]);case 3:return l.call(e,a[0],a[1],a[2])}return l.apply(e,a)}module.exports=apply;\n\n},{}],3:[function(require,module,exports){\nvar baseTimes=require(\"./_baseTimes\"),isArguments=require(\"./isArguments\"),isArray=require(\"./isArray\"),isBuffer=require(\"./isBuffer\"),isIndex=require(\"./_isIndex\"),isTypedArray=require(\"./isTypedArray\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(e,r){var s=isArray(e),i=!s&&isArguments(e),t=!s&&!i&&isBuffer(e),a=!s&&!i&&!t&&isTypedArray(e),n=s||i||t||a,y=n?baseTimes(e.length,String):[],u=y.length;for(var o in e)!r&&!hasOwnProperty.call(e,o)||n&&(\"length\"==o||t&&(\"offset\"==o||\"parent\"==o)||a&&(\"buffer\"==o||\"byteLength\"==o||\"byteOffset\"==o)||isIndex(o,u))||y.push(o);return y}module.exports=arrayLikeKeys;\n\n},{\"./_baseTimes\":17,\"./_isIndex\":34,\"./isArguments\":59,\"./isArray\":60,\"./isBuffer\":62,\"./isTypedArray\":72}],4:[function(require,module,exports){\nfunction arrayMap(r,a){for(var n=-1,e=null==r?0:r.length,l=Array(e);++n<e;)l[n]=a(r[n],n,r);return l}module.exports=arrayMap;\n\n},{}],5:[function(require,module,exports){\nvar baseAssignValue=require(\"./_baseAssignValue\"),eq=require(\"./eq\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function assignValue(e,s,a){var r=e[s];hasOwnProperty.call(e,s)&&eq(r,a)&&(void 0!==a||s in e)||baseAssignValue(e,s,a)}module.exports=assignValue;\n\n},{\"./_baseAssignValue\":6,\"./eq\":56}],6:[function(require,module,exports){\nvar defineProperty=require(\"./_defineProperty\");function baseAssignValue(e,r,i){\"__proto__\"==r&&defineProperty?defineProperty(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}module.exports=baseAssignValue;\n\n},{\"./_defineProperty\":26}],7:[function(require,module,exports){\nvar Symbol=require(\"./_Symbol\"),getRawTag=require(\"./_getRawTag\"),objectToString=require(\"./_objectToString\"),nullTag=\"[object Null]\",undefinedTag=\"[object Undefined]\",symToStringTag=Symbol?Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}module.exports=baseGetTag;\n\n},{\"./_Symbol\":1,\"./_getRawTag\":32,\"./_objectToString\":41}],8:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isObjectLike=require(\"./isObjectLike\"),argsTag=\"[object Arguments]\";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag}module.exports=baseIsArguments;\n\n},{\"./_baseGetTag\":7,\"./isObjectLike\":68}],9:[function(require,module,exports){\nvar isFunction=require(\"./isFunction\"),isMasked=require(\"./_isMasked\"),isObject=require(\"./isObject\"),toSource=require(\"./_toSource\"),reRegExpChar=/[\\\\^$.*+?()[\\]{}|]/g,reIsHostCtor=/^\\[object .+?Constructor\\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp(\"^\"+funcToString.call(hasOwnProperty).replace(reRegExpChar,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}module.exports=baseIsNative;\n\n},{\"./_isMasked\":36,\"./_toSource\":50,\"./isFunction\":64,\"./isObject\":67}],10:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isLength=require(\"./isLength\"),isObjectLike=require(\"./isObjectLike\"),argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag=\"[object Map]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag=\"[object Set]\",stringTag=\"[object String]\",weakMapTag=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",dataViewTag=\"[object DataView]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",typedArrayTags={};function baseIsTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[baseGetTag(a)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1,module.exports=baseIsTypedArray;\n\n},{\"./_baseGetTag\":7,\"./isLength\":65,\"./isObjectLike\":68}],11:[function(require,module,exports){\nvar isPrototype=require(\"./_isPrototype\"),nativeKeys=require(\"./_nativeKeys\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var r=[];for(var t in Object(e))hasOwnProperty.call(e,t)&&\"constructor\"!=t&&r.push(t);return r}module.exports=baseKeys;\n\n},{\"./_isPrototype\":37,\"./_nativeKeys\":38}],12:[function(require,module,exports){\nvar isObject=require(\"./isObject\"),isPrototype=require(\"./_isPrototype\"),nativeKeysIn=require(\"./_nativeKeysIn\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var r=isPrototype(e),t=[];for(var o in e)(\"constructor\"!=o||!r&&hasOwnProperty.call(e,o))&&t.push(o);return t}module.exports=baseKeysIn;\n\n},{\"./_isPrototype\":37,\"./_nativeKeysIn\":39,\"./isObject\":67}],13:[function(require,module,exports){\nfunction basePropertyOf(r){return function(e){return null==r?void 0:r[e]}}module.exports=basePropertyOf;\n\n},{}],14:[function(require,module,exports){\nvar nativeFloor=Math.floor,nativeRandom=Math.random;function baseRandom(a,o){return a+nativeFloor(nativeRandom()*(o-a+1))}module.exports=baseRandom;\n\n},{}],15:[function(require,module,exports){\nvar identity=require(\"./identity\"),overRest=require(\"./_overRest\"),setToString=require(\"./_setToString\");function baseRest(e,t){return setToString(overRest(e,t,identity),e+\"\")}module.exports=baseRest;\n\n},{\"./_overRest\":43,\"./_setToString\":48,\"./identity\":58}],16:[function(require,module,exports){\nvar constant=require(\"./constant\"),defineProperty=require(\"./_defineProperty\"),identity=require(\"./identity\"),baseSetToString=defineProperty?function(e,t){return defineProperty(e,\"toString\",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity;module.exports=baseSetToString;\n\n},{\"./_defineProperty\":26,\"./constant\":55,\"./identity\":58}],17:[function(require,module,exports){\nfunction baseTimes(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}module.exports=baseTimes;\n\n},{}],18:[function(require,module,exports){\nvar Symbol=require(\"./_Symbol\"),arrayMap=require(\"./_arrayMap\"),isArray=require(\"./isArray\"),isSymbol=require(\"./isSymbol\"),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(r){if(\"string\"==typeof r)return r;if(isArray(r))return arrayMap(r,baseToString)+\"\";if(isSymbol(r))return symbolToString?symbolToString.call(r):\"\";var o=r+\"\";return\"0\"==o&&1/r==-INFINITY?\"-0\":o}module.exports=baseToString;\n\n},{\"./_Symbol\":1,\"./_arrayMap\":4,\"./isArray\":60,\"./isSymbol\":71}],19:[function(require,module,exports){\nvar trimmedEndIndex=require(\"./_trimmedEndIndex\"),reTrimStart=/^\\s+/;function baseTrim(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,\"\"):e}module.exports=baseTrim;\n\n},{\"./_trimmedEndIndex\":51}],20:[function(require,module,exports){\nfunction baseUnary(n){return function(r){return n(r)}}module.exports=baseUnary;\n\n},{}],21:[function(require,module,exports){\nvar arrayMap=require(\"./_arrayMap\");function baseValues(a,r){return arrayMap(r,function(r){return a[r]})}module.exports=baseValues;\n\n},{\"./_arrayMap\":4}],22:[function(require,module,exports){\nvar assignValue=require(\"./_assignValue\"),baseAssignValue=require(\"./_baseAssignValue\");function copyObject(e,a,s,r){var i=!s;s||(s={});for(var u=-1,n=a.length;++u<n;){var l=a[u],o=r?r(s[l],e[l],l,s,e):void 0;void 0===o&&(o=e[l]),i?baseAssignValue(s,l,o):assignValue(s,l,o)}return s}module.exports=copyObject;\n\n},{\"./_assignValue\":5,\"./_baseAssignValue\":6}],23:[function(require,module,exports){\nvar root=require(\"./_root\"),coreJsData=root[\"__core-js_shared__\"];module.exports=coreJsData;\n\n},{\"./_root\":47}],24:[function(require,module,exports){\nvar baseRest=require(\"./_baseRest\"),isIterateeCall=require(\"./_isIterateeCall\");function createAssigner(e){return baseRest(function(t,r){var a=-1,i=r.length,s=i>1?r[i-1]:void 0,n=i>2?r[2]:void 0;for(s=e.length>3&&\"function\"==typeof s?(i--,s):void 0,n&&isIterateeCall(r[0],r[1],n)&&(s=i<3?void 0:s,i=1),t=Object(t);++a<i;){var o=r[a];o&&e(t,o,a,s)}return t})}module.exports=createAssigner;\n\n},{\"./_baseRest\":15,\"./_isIterateeCall\":35}],25:[function(require,module,exports){\nvar eq=require(\"./eq\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function customDefaultsAssignIn(o,t,e,r){return void 0===o||eq(o,objectProto[e])&&!hasOwnProperty.call(r,e)?t:o}module.exports=customDefaultsAssignIn;\n\n},{\"./eq\":56}],26:[function(require,module,exports){\nvar getNative=require(\"./_getNative\"),defineProperty=function(){try{var e=getNative(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();module.exports=defineProperty;\n\n},{\"./_getNative\":30}],27:[function(require,module,exports){\nvar basePropertyOf=require(\"./_basePropertyOf\"),htmlEscapes={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},escapeHtmlChar=basePropertyOf(htmlEscapes);module.exports=escapeHtmlChar;\n\n},{\"./_basePropertyOf\":13}],28:[function(require,module,exports){\nvar stringEscapes={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"};function escapeStringChar(r){return\"\\\\\"+stringEscapes[r]}module.exports=escapeStringChar;\n\n},{}],29:[function(require,module,exports){\n(function (global){(function (){\nvar freeGlobal=\"object\"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal;\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],30:[function(require,module,exports){\nvar baseIsNative=require(\"./_baseIsNative\"),getValue=require(\"./_getValue\");function getNative(e,a){var t=getValue(e,a);return baseIsNative(t)?t:void 0}module.exports=getNative;\n\n},{\"./_baseIsNative\":9,\"./_getValue\":33}],31:[function(require,module,exports){\nvar overArg=require(\"./_overArg\"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype;\n\n},{\"./_overArg\":42}],32:[function(require,module,exports){\nvar Symbol=require(\"./_Symbol\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;function getRawTag(t){var o=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{t[symToStringTag]=void 0;var a=!0}catch(t){}var e=nativeObjectToString.call(t);return a&&(o?t[symToStringTag]=r:delete t[symToStringTag]),e}module.exports=getRawTag;\n\n},{\"./_Symbol\":1}],33:[function(require,module,exports){\nfunction getValue(e,u){return null==e?void 0:e[u]}module.exports=getValue;\n\n},{}],34:[function(require,module,exports){\nvar MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\\d*)$/;function isIndex(e,n){var r=typeof e;return!!(n=null==n?MAX_SAFE_INTEGER:n)&&(\"number\"==r||\"symbol\"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<n}module.exports=isIndex;\n\n},{}],35:[function(require,module,exports){\nvar eq=require(\"./eq\"),isArrayLike=require(\"./isArrayLike\"),isIndex=require(\"./_isIndex\"),isObject=require(\"./isObject\");function isIterateeCall(e,r,i){if(!isObject(i))return!1;var t=typeof r;return!!(\"number\"==t?isArrayLike(i)&&isIndex(r,i.length):\"string\"==t&&r in i)&&eq(i[r],e)}module.exports=isIterateeCall;\n\n},{\"./_isIndex\":34,\"./eq\":56,\"./isArrayLike\":61,\"./isObject\":67}],36:[function(require,module,exports){\nvar coreJsData=require(\"./_coreJsData\"),maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||\"\");return e?\"Symbol(src)_1.\"+e:\"\"}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}module.exports=isMasked;\n\n},{\"./_coreJsData\":23}],37:[function(require,module,exports){\nvar objectProto=Object.prototype;function isPrototype(o){var t=o&&o.constructor;return o===(\"function\"==typeof t&&t.prototype||objectProto)}module.exports=isPrototype;\n\n},{}],38:[function(require,module,exports){\nvar overArg=require(\"./_overArg\"),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys;\n\n},{\"./_overArg\":42}],39:[function(require,module,exports){\nfunction nativeKeysIn(n){var e=[];if(null!=n)for(var r in Object(n))e.push(r);return e}module.exports=nativeKeysIn;\n\n},{}],40:[function(require,module,exports){\nvar freeGlobal=require(\"./_freeGlobal\"),freeExports=\"object\"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&\"object\"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var e=freeModule&&freeModule.require&&freeModule.require(\"util\").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding(\"util\")}catch(e){}}();module.exports=nodeUtil;\n\n},{\"./_freeGlobal\":29}],41:[function(require,module,exports){\nvar objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString(t){return nativeObjectToString.call(t)}module.exports=objectToString;\n\n},{}],42:[function(require,module,exports){\nfunction overArg(r,e){return function(n){return r(e(n))}}module.exports=overArg;\n\n},{}],43:[function(require,module,exports){\nvar apply=require(\"./_apply\"),nativeMax=Math.max;function overRest(r,a,e){return a=nativeMax(void 0===a?r.length-1:a,0),function(){for(var t=arguments,n=-1,o=nativeMax(t.length-a,0),v=Array(o);++n<o;)v[n]=t[a+n];n=-1;for(var i=Array(a+1);++n<a;)i[n]=t[n];return i[a]=e(v),apply(r,this,i)}}module.exports=overRest;\n\n},{\"./_apply\":2}],44:[function(require,module,exports){\nvar reEscape=/<%-([\\s\\S]+?)%>/g;module.exports=reEscape;\n\n},{}],45:[function(require,module,exports){\nvar reEvaluate=/<%([\\s\\S]+?)%>/g;module.exports=reEvaluate;\n\n},{}],46:[function(require,module,exports){\nvar reInterpolate=/<%=([\\s\\S]+?)%>/g;module.exports=reInterpolate;\n\n},{}],47:[function(require,module,exports){\nvar freeGlobal=require(\"./_freeGlobal\"),freeSelf=\"object\"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function(\"return this\")();module.exports=root;\n\n},{\"./_freeGlobal\":29}],48:[function(require,module,exports){\nvar baseSetToString=require(\"./_baseSetToString\"),shortOut=require(\"./_shortOut\"),setToString=shortOut(baseSetToString);module.exports=setToString;\n\n},{\"./_baseSetToString\":16,\"./_shortOut\":49}],49:[function(require,module,exports){\nvar HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(t){var r=0,e=0;return function(){var n=nativeNow(),o=HOT_SPAN-(n-e);if(e=n,o>0){if(++r>=HOT_COUNT)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}module.exports=shortOut;\n\n},{}],50:[function(require,module,exports){\nvar funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}module.exports=toSource;\n\n},{}],51:[function(require,module,exports){\nvar reWhitespace=/\\s/;function trimmedEndIndex(e){for(var r=e.length;r--&&reWhitespace.test(e.charAt(r)););return r}module.exports=trimmedEndIndex;\n\n},{}],52:[function(require,module,exports){\nvar basePropertyOf=require(\"./_basePropertyOf\"),htmlUnescapes={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"},unescapeHtmlChar=basePropertyOf(htmlUnescapes);module.exports=unescapeHtmlChar;\n\n},{\"./_basePropertyOf\":13}],53:[function(require,module,exports){\nvar copyObject=require(\"./_copyObject\"),createAssigner=require(\"./_createAssigner\"),keysIn=require(\"./keysIn\"),assignInWith=createAssigner(function(e,r,s,n){copyObject(r,keysIn(r),e,n)});module.exports=assignInWith;\n\n},{\"./_copyObject\":22,\"./_createAssigner\":24,\"./keysIn\":74}],54:[function(require,module,exports){\nvar apply=require(\"./_apply\"),baseRest=require(\"./_baseRest\"),isError=require(\"./isError\"),attempt=baseRest(function(r,e){try{return apply(r,void 0,e)}catch(r){return isError(r)?r:new Error(r)}});module.exports=attempt;\n\n},{\"./_apply\":2,\"./_baseRest\":15,\"./isError\":63}],55:[function(require,module,exports){\nfunction constant(n){return function(){return n}}module.exports=constant;\n\n},{}],56:[function(require,module,exports){\nfunction eq(e,n){return e===n||e!=e&&n!=n}module.exports=eq;\n\n},{}],57:[function(require,module,exports){\nvar escapeHtmlChar=require(\"./_escapeHtmlChar\"),toString=require(\"./toString\"),reUnescapedHtml=/[&<>\"']/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);function escape(e){return(e=toString(e))&&reHasUnescapedHtml.test(e)?e.replace(reUnescapedHtml,escapeHtmlChar):e}module.exports=escape;\n\n},{\"./_escapeHtmlChar\":27,\"./toString\":81}],58:[function(require,module,exports){\nfunction identity(t){return t}module.exports=identity;\n\n},{}],59:[function(require,module,exports){\nvar baseIsArguments=require(\"./_baseIsArguments\"),isObjectLike=require(\"./isObjectLike\"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty.call(e,\"callee\")&&!propertyIsEnumerable.call(e,\"callee\")};module.exports=isArguments;\n\n},{\"./_baseIsArguments\":8,\"./isObjectLike\":68}],60:[function(require,module,exports){\nvar isArray=Array.isArray;module.exports=isArray;\n\n},{}],61:[function(require,module,exports){\nvar isFunction=require(\"./isFunction\"),isLength=require(\"./isLength\");function isArrayLike(i){return null!=i&&isLength(i.length)&&!isFunction(i)}module.exports=isArrayLike;\n\n},{\"./isFunction\":64,\"./isLength\":65}],62:[function(require,module,exports){\nvar root=require(\"./_root\"),stubFalse=require(\"./stubFalse\"),freeExports=\"object\"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&\"object\"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer;\n\n},{\"./_root\":47,\"./stubFalse\":76}],63:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isObjectLike=require(\"./isObjectLike\"),isPlainObject=require(\"./isPlainObject\"),domExcTag=\"[object DOMException]\",errorTag=\"[object Error]\";function isError(e){if(!isObjectLike(e))return!1;var r=baseGetTag(e);return r==errorTag||r==domExcTag||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!isPlainObject(e)}module.exports=isError;\n\n},{\"./_baseGetTag\":7,\"./isObjectLike\":68,\"./isPlainObject\":69}],64:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isObject=require(\"./isObject\"),asyncTag=\"[object AsyncFunction]\",funcTag=\"[object Function]\",genTag=\"[object GeneratorFunction]\",proxyTag=\"[object Proxy]\";function isFunction(e){if(!isObject(e))return!1;var n=baseGetTag(e);return n==funcTag||n==genTag||n==asyncTag||n==proxyTag}module.exports=isFunction;\n\n},{\"./_baseGetTag\":7,\"./isObject\":67}],65:[function(require,module,exports){\nvar MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}module.exports=isLength;\n\n},{}],66:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isObjectLike=require(\"./isObjectLike\"),numberTag=\"[object Number]\";function isNumber(e){return\"number\"==typeof e||isObjectLike(e)&&baseGetTag(e)==numberTag}module.exports=isNumber;\n\n},{\"./_baseGetTag\":7,\"./isObjectLike\":68}],67:[function(require,module,exports){\nfunction isObject(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}module.exports=isObject;\n\n},{}],68:[function(require,module,exports){\nfunction isObjectLike(e){return null!=e&&\"object\"==typeof e}module.exports=isObjectLike;\n\n},{}],69:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),getPrototype=require(\"./_getPrototype\"),isObjectLike=require(\"./isObjectLike\"),objectTag=\"[object Object]\",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(t){if(!isObjectLike(t)||baseGetTag(t)!=objectTag)return!1;var e=getPrototype(t);if(null===e)return!0;var o=hasOwnProperty.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof o&&o instanceof o&&funcToString.call(o)==objectCtorString}module.exports=isPlainObject;\n\n},{\"./_baseGetTag\":7,\"./_getPrototype\":31,\"./isObjectLike\":68}],70:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isArray=require(\"./isArray\"),isObjectLike=require(\"./isObjectLike\"),stringTag=\"[object String]\";function isString(e){return\"string\"==typeof e||!isArray(e)&&isObjectLike(e)&&baseGetTag(e)==stringTag}module.exports=isString;\n\n},{\"./_baseGetTag\":7,\"./isArray\":60,\"./isObjectLike\":68}],71:[function(require,module,exports){\nvar baseGetTag=require(\"./_baseGetTag\"),isObjectLike=require(\"./isObjectLike\"),symbolTag=\"[object Symbol]\";function isSymbol(e){return\"symbol\"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}module.exports=isSymbol;\n\n},{\"./_baseGetTag\":7,\"./isObjectLike\":68}],72:[function(require,module,exports){\nvar baseIsTypedArray=require(\"./_baseIsTypedArray\"),baseUnary=require(\"./_baseUnary\"),nodeUtil=require(\"./_nodeUtil\"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray;\n\n},{\"./_baseIsTypedArray\":10,\"./_baseUnary\":20,\"./_nodeUtil\":40}],73:[function(require,module,exports){\nvar arrayLikeKeys=require(\"./_arrayLikeKeys\"),baseKeys=require(\"./_baseKeys\"),isArrayLike=require(\"./isArrayLike\");function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}module.exports=keys;\n\n},{\"./_arrayLikeKeys\":3,\"./_baseKeys\":11,\"./isArrayLike\":61}],74:[function(require,module,exports){\nvar arrayLikeKeys=require(\"./_arrayLikeKeys\"),baseKeysIn=require(\"./_baseKeysIn\"),isArrayLike=require(\"./isArrayLike\");function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}module.exports=keysIn;\n\n},{\"./_arrayLikeKeys\":3,\"./_baseKeysIn\":12,\"./isArrayLike\":61}],75:[function(require,module,exports){\nvar baseRandom=require(\"./_baseRandom\"),isIterateeCall=require(\"./_isIterateeCall\"),toFinite=require(\"./toFinite\"),freeParseFloat=parseFloat,nativeMin=Math.min,nativeRandom=Math.random;function random(e,a,o){if(o&&\"boolean\"!=typeof o&&isIterateeCall(e,a,o)&&(a=o=void 0),void 0===o&&(\"boolean\"==typeof a?(o=a,a=void 0):\"boolean\"==typeof e&&(o=e,e=void 0)),void 0===e&&void 0===a?(e=0,a=1):(e=toFinite(e),void 0===a?(a=e,e=0):a=toFinite(a)),e>a){var i=e;e=a,a=i}if(o||e%1||a%1){var t=nativeRandom();return nativeMin(e+t*(a-e+freeParseFloat(\"1e-\"+((t+\"\").length-1))),a)}return baseRandom(e,a)}module.exports=random;\n\n},{\"./_baseRandom\":14,\"./_isIterateeCall\":35,\"./toFinite\":79}],76:[function(require,module,exports){\nfunction stubFalse(){return!1}module.exports=stubFalse;\n\n},{}],77:[function(require,module,exports){\nvar assignInWith=require(\"./assignInWith\"),attempt=require(\"./attempt\"),baseValues=require(\"./_baseValues\"),customDefaultsAssignIn=require(\"./_customDefaultsAssignIn\"),escapeStringChar=require(\"./_escapeStringChar\"),isError=require(\"./isError\"),isIterateeCall=require(\"./_isIterateeCall\"),keys=require(\"./keys\"),reInterpolate=require(\"./_reInterpolate\"),templateSettings=require(\"./templateSettings\"),toString=require(\"./toString\"),INVALID_TEMPL_VAR_ERROR_TEXT=\"Invalid `variable` option passed into `_.template`\",reEmptyStringLeading=/\\b__p \\+= '';/g,reEmptyStringMiddle=/\\b(__p \\+=) '' \\+/g,reEmptyStringTrailing=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,reForbiddenIdentifierChars=/[()=,{}\\[\\]\\/\\s]/,reEsTemplate=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,reNoMatch=/($^)/,reUnescapedString=/['\\n\\r\\u2028\\u2029\\\\]/g,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function template(e,r,t){var n=templateSettings.imports._.templateSettings||templateSettings;t&&isIterateeCall(e,r,t)&&(r=void 0),e=toString(e),r=assignInWith({},r,n,customDefaultsAssignIn);var a,i,s=assignInWith({},r.imports,n.imports,customDefaultsAssignIn),o=keys(s),p=baseValues(s,o),l=0,_=r.interpolate||reNoMatch,u=\"__p += '\",c=RegExp((r.escape||reNoMatch).source+\"|\"+_.source+\"|\"+(_===reInterpolate?reEsTemplate:reNoMatch).source+\"|\"+(r.evaluate||reNoMatch).source+\"|$\",\"g\"),g=hasOwnProperty.call(r,\"sourceURL\")?\"//# sourceURL=\"+(r.sourceURL+\"\").replace(/\\s/g,\" \")+\"\\n\":\"\";e.replace(c,function(r,t,n,s,o,p){return n||(n=s),u+=e.slice(l,p).replace(reUnescapedString,escapeStringChar),t&&(a=!0,u+=\"' +\\n__e(\"+t+\") +\\n'\"),o&&(i=!0,u+=\"';\\n\"+o+\";\\n__p += '\"),n&&(u+=\"' +\\n((__t = (\"+n+\")) == null ? '' : __t) +\\n'\"),l=p+r.length,r}),u+=\"';\\n\";var m=hasOwnProperty.call(r,\"variable\")&&r.variable;if(m){if(reForbiddenIdentifierChars.test(m))throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)}else u=\"with (obj) {\\n\"+u+\"\\n}\\n\";u=(i?u.replace(reEmptyStringLeading,\"\"):u).replace(reEmptyStringMiddle,\"$1\").replace(reEmptyStringTrailing,\"$1;\"),u=\"function(\"+(m||\"obj\")+\") {\\n\"+(m?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(a?\", __e = _.escape\":\"\")+(i?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+u+\"return __p\\n}\";var h=attempt(function(){return Function(o,g+\"return \"+u).apply(void 0,p)});if(h.source=u,isError(h))throw h;return h}module.exports=template;\n\n},{\"./_baseValues\":21,\"./_customDefaultsAssignIn\":25,\"./_escapeStringChar\":28,\"./_isIterateeCall\":35,\"./_reInterpolate\":46,\"./assignInWith\":53,\"./attempt\":54,\"./isError\":63,\"./keys\":73,\"./templateSettings\":78,\"./toString\":81}],78:[function(require,module,exports){\nvar escape=require(\"./escape\"),reEscape=require(\"./_reEscape\"),reEvaluate=require(\"./_reEvaluate\"),reInterpolate=require(\"./_reInterpolate\"),templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:\"\",imports:{_:{escape:escape}}};module.exports=templateSettings;\n\n},{\"./_reEscape\":44,\"./_reEvaluate\":45,\"./_reInterpolate\":46,\"./escape\":57}],79:[function(require,module,exports){\nvar toNumber=require(\"./toNumber\"),INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(e){return e?(e=toNumber(e))===INFINITY||e===-INFINITY?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}module.exports=toFinite;\n\n},{\"./toNumber\":80}],80:[function(require,module,exports){\nvar baseTrim=require(\"./_baseTrim\"),isObject=require(\"./isObject\"),isSymbol=require(\"./isSymbol\"),NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if(\"number\"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var r=\"function\"==typeof e.valueOf?e.valueOf():e;e=isObject(r)?r+\"\":r}if(\"string\"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var t=reIsBinary.test(e);return t||reIsOctal.test(e)?freeParseInt(e.slice(2),t?2:8):reIsBadHex.test(e)?NAN:+e}module.exports=toNumber;\n\n},{\"./_baseTrim\":19,\"./isObject\":67,\"./isSymbol\":71}],81:[function(require,module,exports){\nvar baseToString=require(\"./_baseToString\");function toString(r){return null==r?\"\":baseToString(r)}module.exports=toString;\n\n},{\"./_baseToString\":18}],82:[function(require,module,exports){\nvar toString=require(\"./toString\"),unescapeHtmlChar=require(\"./_unescapeHtmlChar\"),reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reHasEscapedHtml=RegExp(reEscapedHtml.source);function unescape(e){return(e=toString(e))&&reHasEscapedHtml.test(e)?e.replace(reEscapedHtml,unescapeHtmlChar):e}module.exports=unescape;\n\n},{\"./_unescapeHtmlChar\":52,\"./toString\":81}],83:[function(require,module,exports){\nvar LZString=function(){var o=String.fromCharCode,r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\",e={};function t(o,r){if(!e[o]){e[o]={};for(var n=0;n<o.length;n++)e[o][o.charAt(n)]=n}return e[o][r]}var i={compressToBase64:function(o){if(null==o)return\"\";var n=i._compress(o,6,function(o){return r.charAt(o)});switch(n.length%4){default:case 0:return n;case 1:return n+\"===\";case 2:return n+\"==\";case 3:return n+\"=\"}},decompressFromBase64:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,32,function(n){return t(r,o.charAt(n))})},compressToUTF16:function(r){return null==r?\"\":i._compress(r,15,function(r){return o(r+32)})+\" \"},decompressFromUTF16:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=i.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var s=r.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(r){if(null==r)return i.decompress(r);for(var n=new Array(r.length/2),e=0,t=n.length;e<t;e++)n[e]=256*r[2*e]+r[2*e+1];var s=[];return n.forEach(function(r){s.push(o(r))}),i.decompress(s.join(\"\"))},compressToEncodedURIComponent:function(o){return null==o?\"\":i._compress(o,6,function(o){return n.charAt(o)})},decompressFromEncodedURIComponent:function(o){return null==o?\"\":\"\"==o?null:(o=o.replace(/ /g,\"+\"),i._decompress(o.length,32,function(r){return t(n,o.charAt(r))}))},compress:function(r){return i._compress(r,16,function(r){return o(r)})},_compress:function(o,r,n){if(null==o)return\"\";var e,t,i,s={},p={},u=\"\",c=\"\",a=\"\",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<o.length;i+=1)if(u=o.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(s,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),s[c]=f++,a=String(u)}if(\"\"!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join(\"\")},decompress:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,n,e){var t,i,s,p,u,c,a,l=[],f=4,h=4,d=3,m=\"\",v=[],w={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(s=0,u=Math.pow(2,2),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;a=o(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;a=o(s);break;case 2:return\"\"}for(l[3]=a,i=a,v.push(a);;){if(w.index>r)return\"\";for(s=0,u=Math.pow(2,d),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;switch(a=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;l[h++]=o(s),a=h-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;l[h++]=o(s),a=h-1,f--;break;case 2:return v.join(\"\")}if(0==f&&(f=Math.pow(2,d),d++),l[a])m=l[a];else{if(a!==h)return null;m=i+i.charAt(0)}v.push(m),l[h++]=i+m.charAt(0),i=m,0==--f&&(f=Math.pow(2,d),d++)}}};return i}();\"function\"==typeof define&&define.amd?define(function(){return LZString}):\"undefined\"!=typeof module&&null!=module&&(module.exports=LZString);\n\n},{}],84:[function(require,module,exports){\nvar e={\"\":[\"<em>\",\"</em>\"],_:[\"<strong>\",\"</strong>\"],\"*\":[\"<strong>\",\"</strong>\"],\"~\":[\"<s>\",\"</s>\"],\"\\n\":[\"<br />\"],\" \":[\"<br />\"],\"-\":[\"<hr />\"]};function n(e){return e.replace(RegExp(\"^\"+(e.match(/^(\\t| )+/)||\"\")[0],\"gm\"),\"\")}function r(e){return(e+\"\").replace(/\"/g,\"&quot;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}module.exports=function t(a,o){var c,l,s,g,p,u=/((?:^|\\n+)(?:\\n---+|\\* \\*(?: \\*)+)\\n)|(?:^``` *(\\w*)\\n([\\s\\S]*?)\\n```$)|((?:(?:^|\\n+)(?:\\t|  {2,}).+)+\\n*)|((?:(?:^|\\n)([>*+-]|\\d+\\.)\\s+.*)+)|(?:!\\[([^\\]]*?)\\]\\(([^)]+?)\\))|(\\[)|(\\](?:\\(([^)]+?)\\))?)|(?:(?:^|\\n+)([^\\s].*)\\n(-{3,}|={3,})(?:\\n+|$))|(?:(?:^|\\n+)(#{1,6})\\s*(.+)(?:\\n+|$))|(?:`([^`].*?)`)|(  \\n\\n*|\\n{2,}|__|\\*\\*|[_*]|~~)/gm,m=[],h=\"\",i=o||{},d=0;function $(n){var r=e[n[1]||\"\"],t=m[m.length-1]==n;return r?r[1]?(t?m.pop():m.push(n),r[0|t]):r[0]:n}function f(){for(var e=\"\";m.length;)e+=$(m[m.length-1]);return e}for(a=a.replace(/^\\[(.+?)\\]:\\s*(.+)$/gm,function(e,n,r){return i[n.toLowerCase()]=r,\"\"}).replace(/^\\n+|\\n+$/g,\"\");s=u.exec(a);)l=a.substring(d,s.index),d=u.lastIndex,c=s[0],l.match(/[^\\\\](\\\\\\\\)*\\\\$/)||((p=s[3]||s[4])?c='<pre class=\"code '+(s[4]?\"poetry\":s[2].toLowerCase())+'\"><code'+(s[2]?' class=\"language-'+s[2].toLowerCase()+'\"':\"\")+\">\"+n(r(p).replace(/^\\n+|\\n+$/g,\"\"))+\"</code></pre>\":(p=s[6])?(p.match(/\\./)&&(s[5]=s[5].replace(/^\\d+/gm,\"\")),g=t(n(s[5].replace(/^\\s*[>*+.-]/gm,\"\"))),\">\"==p?p=\"blockquote\":(p=p.match(/\\./)?\"ol\":\"ul\",g=g.replace(/^(.*)(\\n|$)/gm,\"<li>$1</li>\")),c=\"<\"+p+\">\"+g+\"</\"+p+\">\"):s[8]?c='<img src=\"'+r(s[8])+'\" alt=\"'+r(s[7])+'\">':s[10]?(h=h.replace(\"<a>\",'<a href=\"'+r(s[11]||i[l.toLowerCase()])+'\">'),c=f()+\"</a>\"):s[9]?c=\"<a>\":s[12]||s[14]?c=\"<\"+(p=\"h\"+(s[14]?s[14].length:s[13]>\"=\"?1:2))+\">\"+t(s[12]||s[15],i)+\"</\"+p+\">\":s[16]?c=\"<code>\"+r(s[16])+\"</code>\":(s[17]||s[1])&&(c=$(s[17]||\"--\"))),h+=l,h+=c;return(h+a.substring(d)+f()).replace(/^\\n+|\\n+$/g,\"\")};\n\n},{}],85:[function(require,module,exports){\n\"use strict\";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var template=require(\"lodash/template\"),unescape=require(\"lodash/unescape\"),snarkdown=require(\"snarkdown\"),Passage=function(){function e(r,t,a,s){_classCallCheck(this,e),this.id=r||1,this.name=t||\"Default\",this.tags=a||[],this.source=unescape(s)}return _createClass(e,[{key:\"render\",value:function(e){null==e&&(e=this.source);var r=\"\";try{r=template(e)({s:window.story.state})}catch(e){var t=new CustomEvent(\"vanilja:error\",{detail:{error:e,source:\"Passage.render() using template()\"}});window.dispatchEvent(t)}r=(r=r.replace(/\\[\\[(.*?)\\]\\]\\{(.*?)\\}/g,function(e,r,t){var a,s,n=r,i=(a=t.split(\",\").map(function(e){return e.trim()}),s={},a.forEach(function(e){var r=e.split(\":\").map(function(e){return e.trim()});s[r[0]]=r[1]}),s),u=[],o=r.indexOf(\"|\");if(-1!==o)n=r.substr(0,o),r=r.substr(o+1);else{var c=r.indexOf(\"->\");if(-1!==c)n=r.substr(0,c),r=r.substr(c+2);else{var l=r.indexOf(\"<-\");-1!==l&&(n=r.substr(l+2),r=r.substr(0,l))}}for(var f in i[\"data-passage\"]=r,i.href=\"javascript:void(0)\",i)if(Object.hasOwnProperty.call(i,f)){var p=i[f];u.push(\"\".concat(f,'=\"').concat(p,'\"'))}return\"<a \"+u.join(\" \")+\">\"+n+\"</a>\"})).replace(/\\[\\[(.*?)\\]\\]/g,function(e,r){var t=r,a=r.indexOf(\"|\");if(-1!==a)t=r.substr(0,a),r=r.substr(a+1);else{var s=r.indexOf(\"->\");if(-1!==s)t=r.substr(0,s),r=r.substr(s+2);else{var n=r.indexOf(\"<-\");-1!==n&&(t=r.substr(n+2),r=r.substr(0,n))}}return'<a href=\"javascript:void(0)\" data-passage=\"'+r+'\">'+t+\"</a>\"});var a=snarkdown(r);return!r.endsWith(\"</p>\\n\")&&a.endsWith(\"</p>\\n\")&&(a=a.replace(/^<p>|<\\/p>$|<\\/p>\\n$/g,\"\")),a}}]),e}();module.exports=Passage;\n\n},{\"lodash/template\":77,\"lodash/unescape\":82,\"snarkdown\":84}],86:[function(require,module,exports){\n\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),Object.defineProperty(t,\"prototype\",{writable:!1}),t}var LZString=require(\"lz-string\"),Passage=require(\"./Passage\"),Utils=require(\"./Utils\"),unescape=require(\"lodash/unescape\"),isNumber=require(\"lodash/isNumber\"),isString=require(\"lodash/isString\"),Story=function(){function Story(t){var e=this;_classCallCheck(this,Story),this.dataEl=t,this.name=this.dataEl.getAttribute(\"name\"),this.startPassage=parseInt(this.dataEl.getAttribute(\"startnode\")),this.creator=this.dataEl.getAttribute(\"creator\"),this.creatorVersion=this.dataEl.getAttribute(\"creator-version\"),this.history=[],this.state={},this.checkpointName=\"\",this.ignoreErrors=!1,this.errorMessage=\"\",this.atCheckpoint=!1,this.passages=[];var s=[];t.querySelectorAll(\"tw-passagedata\").forEach(function(t){var e=parseInt(t.getAttribute(\"pid\")),r=t.getAttribute(\"tags\");s[e]=new Passage(e,t.getAttribute(\"name\"),\"\"!==r&&void 0!==r?r.split(\" \"):[],t.innerHTML)}),this.passages=s,this.userScripts=[],t.querySelectorAll('*[type=\"text/twine-javascript\"]').forEach(function(t){e.userScripts.push(t.innerHTML)}),this.userStyles=[],t.querySelectorAll('*[type=\"text/twine-css\"]').forEach(function(t){e.userStyles.push(t.innerHTML)}),window.onerror=function(t,e,s,r,i){Story.emitError(i,\"Browser Error\")},window.addEventListener(\"vanilja:error\",function(t){var s=t.detail,r=s.error,i=s.source;e.errorMessage=\"In \"+i+\": \"+r.name+\": \"+r.message,e.ignoreErrors||(document.querySelector(\"tw-story\").innerHTML=e.errorMessage)})}return _createClass(Story,[{key:\"start\",value:function start(el){var _this2=this;this.el=el,this.el.innerHTML='<tw-passage class=\"passage\" aria-live=\"polite\"></tw-passage>',this.passageEl=document.querySelector(\"tw-passage\"),window.addEventListener(\"popstate\",function(t){var e=t.originalEvent.state;e?(_this2.state=e.state,_this2.history=e.history,_this2.checkpointName=e.checkpointName,_this2.show(_this2.history[_this2.history.length-1],!0)):_this2.history.length>1&&(_this2.state={},_this2.history=[],_this2.checkpointName=\"\",_this2.show(_this2.startPassage,!0))}),window.addEventListener(\"hashchange\",function(){this.restore(window.location.hash.replace(\"#\",\"\"))}),this.userStyles.forEach(function(t){var e=document.createElement(\"style\");e.innerHTML=t,_this2.el.append(e)}),this.userScripts.forEach(function(script){try{eval(script)}catch(t){Story.emitError(t,\"Story JavaScript Eval()\")}}),this.el.addEventListener(\"click\",function(t){var e=t.target;\"a\"===e.tagName.toLowerCase()&&e.dataset.passage&&_this2.show(unescape(e.dataset.passage))}),Utils.event(\"story:started\",{story:this}),\"\"!==window.location.hash&&this.restore(window.location.hash.replace(\"#\",\"\"))||(this.show(this.startPassage),this.atCheckpoint=!0)}},{key:\"passage\",value:function(t){var e=null;if(isNumber(t))t<this.passages.length&&(e=this.passages[t]);else if(isString(t)){var s=this.passages.filter(function(e){return e.name===t});0!==s.length?e=s[0]:0!==(s=this.passages.filter(function(e){return e.name.toLowerCase()===t.toLowerCase()})).length&&(e=s[0])}return e}},{key:\"show\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.passage(t);if(null===s)throw new Error('There is no passage with the ID or name \"'+t+'\"');if(Utils.event(\"story:hidden\",{passage:window.passage}),Utils.event(\"story:showing\",{passage:s}),!1===e){this.history.push(s.id);try{this.atCheckpoint?window.history.pushState({state:this.state,history:this.history,checkpointName:this.checkpointName},\"\",\"\"):window.history.replaceState({state:this.state,history:this.history,checkpointName:this.checkpointName},\"\",\"\")}catch(t){Utils.event(\"checkpoint:error\",{error:t,description:\"Checkpoint failed to save\"})}Utils.event(\"checkpoint:added\",{name:t})}window.passage=s,this.atCheckpoint=!1;try{this.passageEl.innerHTML=s.render(),this.passageEl.setAttribute(\"passage\",s.name)}catch(t){Story.emitError(t,\"Story.show()\")}Utils.event(\"story:shown\",{passage:s})}},{key:\"render\",value:function(t){var e=this.passage(t);if(!e)throw this.emitError({name:\"No passage\",message:\"There is no passage with the ID or name \"+t},\"Story.render()\"),new Error(\"There is no passage with the ID or name \"+t);return e.render()}},{key:\"checkpoint\",value:function(t){void 0!==t?(document.title=this.name+\": \"+t,this.checkpointName=t):this.checkpointName=\"\",this.atCheckpoint=!0,Utils.event(\"checkpoint:adding\",{name:t})}},{key:\"save\",value:function(t){window.location.hash=t,Utils.event(\"story:saved\")}},{key:\"saveHash\",value:function(){return LZString.compressToBase64(JSON.stringify({state:this.state,history:this.history,checkpointName:this.checkpointName}))}},{key:\"restore\",value:function(t){try{var e=JSON.parse(LZString.decompressFromBase64(t));this.state=e.state,this.history=e.history,this.checkpointName=e.checkpointName,this.show(this.history[this.history.length-1],!0)}catch(t){return Utils.event(\"restore:error\",{error:t}),!1}return Utils.event(\"restore:success\"),!0}}],[{key:\"emitError\",value:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"error\";Utils.event(s,{error:t,source:e})}}]),Story}();module.exports=Story;\n\n},{\"./Passage\":85,\"./Utils\":87,\"lodash/isNumber\":66,\"lodash/isString\":70,\"lodash/unescape\":82,\"lz-string\":83}],87:[function(require,module,exports){\n\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var _random=require(\"lodash/random\"),Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:\"random\",value:function(){for(var e=[],t=0;t<arguments.length;t++)if(arguments[t]instanceof Array)for(var r=0;r<arguments[t].length;r++)e.push(arguments[t][r]);else e.push(arguments[t]);return e[_random(e.length-1)]}},{key:\"hasVisited\",value:function(){if(!window.story)return!1;for(var e=0;e<arguments.length;e++){var t=window.story.passage(arguments[e]);if(t&&window.story.history.includes(t.id))return!0}return!1}},{key:\"visits\",value:function(){for(var e=arguments,t=[],r=[],n=function(n){var i=window.story.passage(n<0||e.length<=n?void 0:e[n]);i&&(r=window.story.history.filter(function(e){return e===i.id})),t.push(r.length)},i=0;i<arguments.length;i++)n(i);return 1===t.length?t[0]:t}},{key:\"renderToSelector\",value:function(e,t){var r,n=window.story.passage(t);n&&(\"string\"==typeof e?r=document.querySelector(e):e instanceof Element&&(r=e),r&&(r.innerHTML=n.render()))}},{key:\"event\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.querySelector(\"tw-story\"),n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=new CustomEvent(\"vanilja:\"+e,{detail:t,bubbles:n});r.dispatchEvent(i)}},{key:\"addStyle\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(\"link\");if(r.setAttribute(\"rel\",\"stylesheet\"),r.setAttribute(\"href\",e),t)for(var n in t)if(Object.hasOwnProperty.call(t,n)){var i=t[n];r.setAttribute(n,i)}document.head.append(r)}},{key:\"addScript\",value:function(e,t){var r=document.createElement(\"script\");if(r.setAttribute(\"src\",e),t)for(var n in t)if(Object.hasOwnProperty.call(t,n)){var i=t[n];r.setAttribute(n,i)}document.head.append(r)}}]),e}();module.exports=Utils;\n\n},{\"lodash/random\":75}],88:[function(require,module,exports){\n\"use strict\";var md=window.md=require(\"snarkdown\"),Story=window.Story=require(\"./classes/Story.js\"),Passage=window.Passage=require(\"./classes/Passage.js\"),Utils=window.Utils=require(\"./classes/Utils.js\");window.addEventListener(\"load\",function(){window.story=new Story(document.querySelector(\"tw-storydata\")),window.story.start(document.querySelector(\"tw-story\"))});\n\n},{\"./classes/Passage.js\":85,\"./classes/Story.js\":86,\"./classes/Utils.js\":87,\"snarkdown\":84}]},{},[88]);\n\n    </script>\n  </body>\n</html>\n"});